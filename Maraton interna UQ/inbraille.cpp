#include <bits/stdc++.h>

using namespace std;

#define endl '\n'

map< vector<vector<char> > , int> b;

vector<vector<char> > g[100];
char d[10][3][2];

void inicializar() {

    memset(d, '.', sizeof d);
    vector< vector<char> > bs(3,vector<char>(2,'.'));

    d[0][0][0]='.';d[0][0][1]='*';d[0][1][0]='*';d[0][1][1]='*';
    bs[0][0]='.';bs[0][1]='*';bs[1][0]='*';bs[1][1]='*';
    b[bs]=0;
    d[1][0][0]='*';d[1][0][1]='.';d[1][1][0]='.';d[1][1][1]='.';
    bs[0][0]='*';bs[0][1]='.';bs[1][0]='.';bs[1][1]='.';
    b[bs]=1;
    d[2][0][0]='*';d[2][0][1]='.';d[2][1][0]='*';d[2][1][1]='.';
    bs[0][0]='*';bs[0][1]='.';bs[1][0]='*';bs[1][1]='.';
    b[bs]=2;
    d[3][0][0]='*';d[3][0][1]='*';d[3][1][0]='.';d[3][1][1]='.';
    bs[0][0]='*';bs[0][1]='*';bs[1][0]='.';bs[1][1]='.';
    b[bs]=3;
    d[4][0][0]='*';d[4][0][1]='*';d[4][1][0]='.';d[4][1][1]='*';
    bs[0][0]='*';bs[0][1]='*';bs[1][0]='.';bs[1][1]='*';
    b[bs]=4;
    d[5][0][0]='*';d[5][0][1]='.';d[5][1][0]='.';d[5][1][1]='*';
    bs[0][0]='*';bs[0][1]='.';bs[1][0]='.';bs[1][1]='*';
    b[bs]=5;
    d[6][0][0]='*';d[6][0][1]='*';d[6][1][0]='*';d[6][1][1]='.';
    bs[0][0]='*';bs[0][1]='*';bs[1][0]='*';bs[1][1]='.';
    b[bs]=6;
    d[7][0][0]='*';d[7][0][1]='*';d[7][1][0]='*';d[7][1][1]='*';
    bs[0][0]='*';bs[0][1]='*';bs[1][0]='*';bs[1][1]='*';
    b[bs]=7;
    d[8][0][0]='*';d[8][0][1]='.';d[8][1][0]='*';d[8][1][1]='*';
    bs[0][0]='*';bs[0][1]='.';bs[1][0]='*';bs[1][1]='*';
    b[bs]=8;
    d[9][0][0]='.';d[9][0][1]='*';d[9][1][0]='*';d[9][1][1]='.';
    bs[0][0]='.';bs[0][1]='*';bs[1][0]='*';bs[1][1]='.';
    b[bs]=9;
}

int main() {

    inicializar();

    int n, aux;
    char c, auxB[3][2];
    string s;

    while(true) {

        scanf("%d", &n);
        if(n == 0) break;

        scanf(" %c", &c);

        if(c == 'S') {

            cin >> s;

            for(int j = 0; j < 3; j++) {

                for(int i = 0; i < s.size(); i++) {

                    aux = s[i]-'0';
                    if(i == s.size()-1) {

                        printf("%c%c", d[aux][j][0], d[aux][j][1]);

                    } else {

                        printf("%c%c ", d[aux][j][0], d[aux][j][1]);
                    }
                }

                printf("\n");
            }

        } else {


            for(int i=0;i<n;i++){

                g[i] = vector< vector<char> >(3,vector<char>(2,'.'));
            }

            char x, y;
            for(int i = 0; i < 3; i++) {

                for(int j = 0; j < n; j++) {

                    scanf(" %c%c", &x, &y);
                    g[j][i][0]=x;
                    g[j][i][1]=y;
                }
            }

            for(int i=0;i<n;i++){

                printf("%d", b[g[i]]);
            }

            printf("\n");
        }
    }

    return 0;
}
